<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Check your Article Before Submission • rjtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Check your Article Before Submission">
<meta property="og:description" content="rjtools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rjtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/article_template.html">The Article Template</a>
    </li>
    <li>
      <a href="../articles/check_functions.html">Check your Article Before Submission</a>
    </li>
    <li>
      <a href="../articles/create_article.html">Create an R Journal Article</a>
    </li>
    <li>
      <a href="../articles/format-details.html">More details on the R Journal format</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rjournal/rjtools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="check_functions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Check your Article Before Submission</h1>
                        <h4 data-toc-skip class="author">Sherry Zhang</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rjournal/rjtools/blob/HEAD/vignettes/check_functions.Rmd" class="external-link"><code>vignettes/check_functions.Rmd</code></a></small>
      <div class="hidden name"><code>check_functions.Rmd</code></div>

    </div>

    
    
<p>In the <code>inst/paper-with-errors</code> folder is an example article that has both html and pdf version rendered and it will be used to demonstrate the check functions in the <code>rjtools</code>. Notice that the check function implemented here is only an initial automated check and we recommend authors to also read <a href="https://journal.r-project.org/share/author-guide.pdf" class="external-link">instructions for Authors</a> before submission.</p>
<p>There are 9 functions in total for authors to check against and these checks can be completed in one go with <code><a href="../reference/checks.html">initial_check_article()</a></code>, given a path to the article folder:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">initial_check_article</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"paper-with-errors"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The check result will be saved in an initial_check.log file, as well as displayed in the console. Checking on each item is also supported by individual <code>check_*()</code> function:</p>
<ul>
<li><p><code><a href="../reference/checks.html">check_wrappers()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_filenames()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_unnecessary_files()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_cover_letter()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_title()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_section()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_spelling()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_proposed_pkg()</a></code></p></li>
<li><p><code><a href="../reference/checks.html">check_packages_available()</a></code></p></li>
</ul>
<p>Below we will apply each check function on the example article we create</p>
<div class="section level2">
<h2 id="wrappers">Wrappers<a class="anchor" aria-label="anchor" href="#wrappers"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_wrappers</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> SUCCESS: Submission contains both RJwrapper.tex and RJwrapper.pdf</span>
<span class="co">#&gt; SUCCESS: Submission contains both RJwrapper.tex and RJwrapper.pdf</span></code></pre></div>
<p>A properly rendered article should have both the <code>RJwrapper.tex</code> and <code>RJwrapper.pdf</code> file and our article passes this check. Good!</p>
</div>
<div class="section level2">
<h2 id="filenames">Filenames<a class="anchor" aria-label="anchor" href="#filenames"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_filenames</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #BBBB00;">!</span> ERROR: Submission does not have consistently named tex, bib, and R files</span>
<span class="co">#&gt; ERROR: Submission does not have consistently named tex, bib, and R files</span></code></pre></div>
<p>The .bib file is named <code>skeleton.bib</code> when created and we recommend setting a consistent name across the .bib, .tex, and .Rmd file. A fix to this is to rename the <code>skeleton.bib</code> as the file name you used when create the article, in our case, <code>paper-with-errors</code>. Also remember to make the same change in the Rmd YAML, so it can find the .bib file during knitting!</p>
</div>
<div class="section level2">
<h2 id="presence-of-unnecessary-files">Presence of unnecessary files<a class="anchor" aria-label="anchor" href="#presence-of-unnecessary-files"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_unnecessary_files</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> SUCCESS: No problematic file found</span>
<span class="co">#&gt; SUCCESS: No problematic file found</span></code></pre></div>
<p>This function checks that the folder doesn’t contain the <code>RJtemplate.tex</code> file, which is icluded the previous R journal template. The <a href="https://journal.r-project.org/share/author-guide.pdf" class="external-link">authors instruction</a> requires the authors to replace the content of this <code>RJtemplate.tex</code> file with article content and name with the lowercase concatenated author name, so it is essentially the <code>.tex</code> file automatically generated in the previous section. Our article don’t have unnecessary file here. Good :)</p>
</div>
<div class="section level2">
<h2 id="presence-of-a-motivating-letter">Presence of a motivating letter<a class="anchor" aria-label="anchor" href="#presence-of-a-motivating-letter"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_cover_letter</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> SUCCESS: Possible motivation letter found</span>
<span class="co">#&gt; SUCCESS: Possible motivation letter found</span></code></pre></div>
<p>Cover letter should be provided for article of type “add-on package” and saved at the same folder as the article. The function checks whether there is a file has the word “motivation” in its name and the note says our sample article has not yet have a motivational letter. Bad!</p>
</div>
<div class="section level2">
<h2 id="article-title-is-in-title-case">Article title is in title case<a class="anchor" aria-label="anchor" href="#article-title-is-in-title-case"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_title</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #BBBB00;">!</span> ERROR: The title is not in title case! Suggest title to be changed to:</span>
<span class="co">#&gt; ToOoOlTiPs: An R Package for Customizable Tooltips in Interactive Graphics</span>
<span class="co">#&gt; ERROR: The title is not in title case! Suggest title to be changed to:</span>
<span class="co">#&gt; ToOoOlTiPs: An R Package for Customizable Tooltips in Interactive Graphics</span></code></pre></div>
<p>The article title needs to be in the title case and the check is not happy with our title here. Use <code><a href="https://rdrr.io/r/tools/toTitleCase.html" class="external-link">tools::toTitleCase()</a></code> to get the correct title case format:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/toTitleCase.html" class="external-link">toTitleCase</a></span><span class="op">(</span><span class="st">"ToOoOlTiPs: An R package for Customizable Tooltips in Interactive Graphics"</span><span class="op">)</span>
<span class="co">#&gt; [1] "ToOoOlTiPs: An R Package for Customizable Tooltips in Interactive Graphics"</span></code></pre></div>
<p>Here we forget to capitalise “P” in the word “package” - better make this change before submission! Also if the title contains the package you’re proposing, i.e <code>ToOoOlTiPs</code> in our article, use the <code>\pkg{.}</code> tag rather than <code>\CRANpkg{.}</code>.</p>
</div>
<div class="section level2">
<h2 id="section-title-is-in-sentence-case">Section title is in sentence case<a class="anchor" aria-label="anchor" href="#section-title-is-in-sentence-case"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_section</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> SUCCESS: All sections are properly formatted in sentence case</span>
<span class="co">#&gt; SUCCESS: All sections are properly formatted in sentence case</span></code></pre></div>
<p>Section titles need to be in the sentence case and we are all good!</p>
</div>
<div class="section level2">
<h2 id="spelling">Spelling<a class="anchor" aria-label="anchor" href="#spelling"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_spelling</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span> 
<span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> NOTE: A potential list of spelling to check: tooltips, tooltip, alison, ggplot</span>
<span class="co">#&gt; NOTE: A potential list of spelling to check: tooltips, tooltip, alison, ggplot</span></code></pre></div>
<p>The spelling check is performed from the abstract to bibliography section, excluding the comments in the code chunks. Only words with all lowercase letters are checked to avoid picking up on acronyms and names. The underlying checking is done through the <code>hunspell</code> package with US spelling by default. British spelling can be checked with argument <code>dic = "en_GB"</code>. The R journal welcomes both the U.S and British spelling, along with other national variation, as long as consistency is maintained. Notice that the spelling check may pick up some domain specific vocabularies and authors may want to further confirm if the suggested spelling mistakes are true mis-spellings. In our article, “tooltip” is a specialised vocabulary in interactive graphics, which is not really a mis-spelling, so we are free of spelling mistake!</p>
</div>
<div class="section level2">
<h2 id="package-is-available-on-cran">Package is available on CRAN<a class="anchor" aria-label="anchor" href="#package-is-available-on-cran"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_proposed_pkg</a></span><span class="op">(</span><span class="op">)</span> </code></pre></div>
<p>The package proposed in an article should already be available on CRAN before article submission. <code>check_proposed_pkg</code> prompts the following in the console:</p>
<blockquote>
<p>What’s the name of package being proposed in the article? If none, please enter 0.</p>
</blockquote>
<p>and authors need to enter the exact package name for an availability check on CRAN download with the <code>cranlogs</code> package. For our article, enter “ToOoOlTiPs” in the console and the check would say</p>
<blockquote>
<p>NOTE: No CRAN activities detected for package ToOoOlTiPs</p>
</blockquote>
<p>Definitely CRAN can’t find our package since it is a hypothetical one!</p>
</div>
<div class="section level2">
<h2 id="package-availability">Package availability<a class="anchor" aria-label="anchor" href="#package-availability"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/checks.html">check_packages_available</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"inst/paper-with-errors"</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<p>All the packages mentioned with a <code>\CRANpkg{.}</code> or <code>\BIOpkg{.}</code> tag need to be available on CRAN or Bioconductor and <code>check_packages_available</code> makes sure this is the case. For our article, we get</p>
<blockquote>
<p>! ERROR: 1 of 5 package(s) not available on CRAN: ToOoOlTiPs</p>
</blockquote>
<p>which is not really an issue :)</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Mitchell O’Hara-Wild, Stephanie Kobakian, H. Sherry Zhang, Di Cook, Christophe Dervieux.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
